<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hierarchical Transformations: 2D Demo</title>
    <link rel="stylesheet" href="../libraries/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../libraries/bootstrap/css/bootstrap-grid.css">
    <link rel="stylesheet" href="../libraries/bootstrap/css/bootstrap-reboot.css">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
    <script src="../libraries/popper.min.js"></script>
    <script src="../libraries/jquery-3.4.1.min.js"></script>
    <script src="../libraries/bootstrap/js/bootstrap.bundle.js"></script>
    <script src="../libraries/bootstrap/js/bootstrap.js"></script>

    <style type="text/css">
        #content{
            text-align: center;
        }
        .container{
            max-width: 90%;
        }
        .btn:focus, .btn:active {
            box-shadow: none !important;
        }
        /*.unclickable{*/
        /*    pointer-events: none;*/
        /*}*/

    </style>



</head>
<body class="bg-light">
<!--MANUAL-->
<div class="modal fade bd-example-modal-xl" id="manual" tabindex="-1" role="dialog" aria-labelledby="ManualTitle" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ManualTitle">Manual</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p class="lead">
                    This lab allows you to create any 2d object and apply transformations to it and see how the transformation happens frame by frame.
                </p>
                <hr>
                <p>The simulation consists of mainly two panels: Left Panel, Right Panel.</p>
                <ul>
                    <li>
                        <p><strong>Left Panel:</strong> This is your coordinate system, where you will see your shapes and transformations.</p>
                        <div class="alert alert-info" role="alert">
                            This panel also contains a slider at the bottom. This slider is used to see the transformations in real-time.
                        </div>
                    </li>
                    <li>
                        <p><strong>Right Panel:</strong> This panel allows you to add shapes and transformations</p>
                        <ol>
                            <li>
                                <p>Use the Add Shape / Add Transformation button to add a variety of shapes / transformations to the canvas.</p>
                                <div class="alert alert-info" role="alert">
                                    You can also add custom shapes to the canvas by specifying the points. The ordering of the entered points is important.
                                    The lines would be drawn according to the order of your points.
                                </div>
                            </li>
                            <li>
                                <p>The frames input field allows you to specify the number of frames(animation) you would like to see of the current transformation.</p>
                            </li>

                        </ol>
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!--TRANSLATION-->
<div class="modal fade" id="translation_modal" tabindex="-1" role="dialog" aria-labelledby="sampleSquare" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Translation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Translation in the x and y directions</p>
                <form class="form-inline d-flex justify-content-around">
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="trx" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="try" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <label for="squarelength">Number of frames</label>
                <div class="d-flex justify-content-around" style="width: 80%;">
                    <input type="number" class="form-control" id="trf" placeholder="Number of frames">
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="addtranslation">ADD</button>
            </div>
        </div>
    </div>
</div>

<!--ROTATION-->
<div class="modal fade" id="rotation_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Translation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Center of rotation</p>
                <form class="form-inline d-flex justify-content-around">
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="rtx" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="rty" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <label for="rta">Angle in Degrees</label>
                <div class="d-flex justify-content-around" style="width: 80%;">
                    <input type="number" class="form-control" id="rta" placeholder="Number of frames">
                </div>
                <br>
                <label for="rta">Number of frames</label>
                <div class="d-flex justify-content-around" style="width: 80%;">
                    <input type="number" class="form-control" id="rtf" placeholder="Number of frames">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="addrotation">ADD</button>
            </div>
        </div>
    </div>
</div>

<!--SCALE-->
<div class="modal fade" id="scale_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Translation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Scaling in the x and y directions</p>
                <form class="form-inline d-flex justify-content-around">
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="scx" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="scy" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <label for="rta">Number of frames</label>
                <div class="d-flex justify-content-around" style="width: 80%;">
                    <input type="number" class="form-control" id="scf" placeholder="Number of frames">
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="addscale">ADD</button>
            </div>
        </div>
    </div>
</div>

<!--SKEW-->
<div class="modal fade" id="skew_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Translation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Skew in the x or y directions</p>
                <form class="form-inline d-flex justify-content-around">
                    <div class="input-group" style="width: 40%;">
                        <input type="number" class="form-control" id="skv" placeholder="Skew Value">
                    </div>
                    &nbsp;&nbsp;
                    <br>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" name="coordinate" type="radio" id="skx" value="x">
                        <label class="form-check-label" for="skx">x</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" name="coordinate" type="radio" id="sky" value="option2">
                        <label class="form-check-label" for="sky">y</label>
                    </div>
                    <br>
                </form>
                <br>
                <label for="rta">Number of frames</label>
                <div class="d-flex justify-content-around" style="width: 80%;">
                    <input type="number" class="form-control" id="skf" placeholder="Number of frames">
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="addskew">ADD</button>
            </div>
        </div>
    </div>
</div>

<!--CUSTOM-->

<div class="modal fade" id="custom_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Translation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Custom Matrix</p>
                <div class="container-fluid">
                    <div class="row" style="width: 80%;">
                        <div class="btn-group d-flex justify-content-around">
                            <input type="number" class="form-control col-md-2" id="ct1">
                            <input type="number" class="form-control col-md-2" id="ct2">
                            <input type="number" class="form-control col-md-2" id="ct3">
                        </div>
                    </div>
                    <br>
                    <div class="row" style="width: 80%;">
                        <div class=" btn-group d-flex justify-content-around">
                            <input type="number" class="form-control col-md-2" id="ct4">
                            <input type="number" class="form-control col-md-2" id="ct5">
                            <input type="number" class="form-control col-md-2" id="ct6">
                        </div>
                    </div>
                    <br>
                    <div class="row" style="width: 80%;">
                        <div class=" btn-group d-flex justify-content-around">
                            <input type="number" class="form-control col-md-2" id="ct7">
                            <input type="number" class="form-control col-md-2" id="ct8">
                            <input type="number" class="form-control col-md-2" id="ct9">
                        </div>
                    </div>
                </div>
                <br>
                <label for="rta">Number of frames</label>
                <div class="d-flex justify-content-around" style="width: 80%;">
                    <input type="number" class="form-control" id="customf" placeholder="Number of frames">
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="addcustom">ADD</button>
            </div>
        </div>
    </div>
</div>


<!--SAMPLE SQUARE-->
<div class="modal fade" id="sampleSquare" tabindex="-1" role="dialog" aria-labelledby="sampleSquare" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Sample Square</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>The Top Left Coordinates of the Square</p>
                <form class="form-inline d-flex justify-content-around">
                    <label class="sr-only" for="stopleftx">Top Left X-coordinate</label>
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="stopleftx" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <label class="sr-only" for="stoplefty">Top Left Y-coordinate</label>
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="stoplefty" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <label for="squarelength">Length of the square</label>
                <div class="d-flex justify-content-around" style="width: 80%;">
                    <input type="number" class="form-control" id="squarelength" placeholder="Length">
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="constructSampleSquare">ADD</button>
            </div>
        </div>
    </div>
</div>

<!--SAMPLE RECT-->
<div class="modal fade" id="sampleRect" tabindex="-1" role="dialog" aria-labelledby="sampleRectangle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Sample Square</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>The Top Left Coordinates of the Rectangle</p>
                <form class="form-inline d-flex justify-content-between">
                    <label class="sr-only" for="rtopleftx">Top Left X-coordinate</label>
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="rtopleftx" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <label class="sr-only" for="rtoplefty">Top Left Y-coordinate</label>
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="rtoplefty" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <label for="squarelength">Length of the Rectangle</label>
                <div class="d-flex justify-content-around">
                    <input type="number" class="form-control" id="rectlength" placeholder="Length">
                </div>
                <br>
                <label for="squarelength">Breadth of the Rectangle</label>
                <div class="d-flex justify-content-around">
                    <input type="number" class="form-control" id="rectbreadth" placeholder="Breadth">
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="constructSampleRect">ADD</button>
            </div>
        </div>
    </div>
</div>

<!--SAMPLE TRIANGLE-->
<div class="modal fade" id="sampleTriangle" tabindex="-1" role="dialog" aria-labelledby="sampleTriangle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Sample Triangle</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>1st Coordinate</p>
                <form class="form-inline d-flex justify-content-between">
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="tptx1" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="tpty1" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <p>2nd Coordinate</p>
                <form class="form-inline d-flex justify-content-between">
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="tptx2" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <label class="sr-only" for="rtoplefty">Top Left Y-coordinate</label>
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="tpty2" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <p>3rd Coordinate</p>
                <form class="form-inline d-flex justify-content-between">
                    <label class="sr-only" for="rtopleftx">Top Left X-coordinate</label>
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="tptx3" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <label class="sr-only" for="rtoplefty">Top Left Y-coordinate</label>
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="tpty3" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="constructSampleTriangle">ADD</button>
            </div>
        </div>
    </div>
</div>

<!--CUSTOM SHAPE-->

<div class="modal fade" id="customShape" tabindex="-1" role="dialog" aria-labelledby="customShape" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Custom Shape</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Point 1</p>
                <form class="form-inline d-flex justify-content-between">
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="cptx1" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="cpty1" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <p>Point 2</p>
                <form class="form-inline d-flex justify-content-between">
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="cptx2" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="cpty2" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <p>Point 3</p>
                <form class="form-inline d-flex justify-content-between">
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">X:</div>
                        </div>
                        <input type="number" class="form-control" id="cptx3" placeholder="X-coordinate">
                    </div>
                    &nbsp;&nbsp;
                    <div class="input-group" style="width: 40%;">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Y:</div>
                        </div>
                        <input type="number" class="form-control" id="cpty3" placeholder="Y-coordinate">
                    </div>
                    <br>
                </form>
                <br>
                <div id="newpoints">

                </div>
                <button type="button" class="btn btn-info float-right" id="addNewPoint">Add Point</button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="customShapeSubmit">ADD</button>
            </div>
        </div>
    </div>
</div>


<div id="content" class="container" style="height: 100vh">
    <h1>Hierarchical Transformations: 2D Demo (<a href="#manual" data-toggle="modal" data-target="#manual">Click for Manual</a>)</h1>
    <hr>
    <div class="row" style="height: 85%">
        <div class="col-lg-9" id="canvas_container">
            <canvas id="world" class="border border-secondary" style="z-index: 5"></canvas>
            <input type="range" class="custom-range" id="slider" max="1000">
        </div>
        <div class="col-lg-3 border border-secondary overflow-auto" id="settings" style="height: 100%">
            <div class="mx-auto">
                <br>
                <h2>Settings</h2>
                <div id="accordion">
                    <a class="btn  btn-outline-info" id="add_shape" data-toggle="collapse" href="#addNewShape" role="button" aria-expanded="false">Add new Shape</a><br><br>
                    <div class="collapse" id="addNewShape" data-parent="#accordion">
                        <div class="card" style="text-align: left;">
                            <div class="card-header">
                                New Shape
                            </div>
                            <div class="card-body" >
                                <button class="btn btn-outline-info" id="sample_square" data-toggle="modal" data-target="#sampleSquare">Sample Square</button>
                                <br><br>
                                <button class="btn btn-outline-info" id="sample_rectangle" data-toggle="modal" data-target="#sampleRect">Sample Rectangle</button>
                                <br><br>
                                <button class="btn btn-outline-info" id="sample_triangle" data-toggle="modal" data-target="#sampleTriangle">Sample Triangle</button>
                                <br><br>
                                <button class="btn btn-outline-info" id="custom_shape" data-toggle="modal" data-target="#customShape">Custom Shape</button>
                            </div>
                        </div><br>
                    </div>
                    <a class="btn  btn-outline-info" id="add_transformation" data-toggle="collapse" href="#addNewTransformation" role="button" aria-expanded="false">Add new Transformation</a><br><br>
                    <div class="collapse" id="addNewTransformation" data-parent="#accordion"    >
                        <div class="card" style="text-align: left;">
                            <div class="card-header">
                                New Shape
                            </div>
                            <div class="card-body" >
                                <button class="btn btn-outline-primary" id="translation" data-toggle="modal" data-target="#translation_modal">Translation</button>
                                <br><br>
                                <button class="btn btn-outline-primary" id="rotation" data-toggle="modal" data-target="#rotation_modal">Rotation</button>
                                <br><br>
                                <button class="btn btn-outline-primary" id="scale" data-toggle="modal" data-target="#scale_modal">Scale</button>
                                <br><br>
                                <button class="btn btn-outline-primary" id="skew" data-toggle="modal" data-target="#skew_modal">Skew</button>
                                <br><br>
                                <button class="btn btn-outline-primary" id="custom" data-toggle="modal" data-target="#custom_modal">Custom</button>
                            </div>
                        </div><br>
                    </div>
<!--                    <button class="btn btn-info" id="transform">Transform</button>-->
                    <p>Your Mouse Cursor Coordinates</p>
                    <p id="mousepos"></p>
<!--                    <p id="mouseposdebug"></p>-->
                    <hr>
                    <div class="mx-auto">
                        <h2>Shapes and Transformations</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="js/main.js"></script>
    <script src="js/Point.js"></script>
    <script src="js/transformations.js"></script>
    <script src="js/TransformationMatrix.js"></script>
    <script type="text/javascript" src="js/ui.js"></script>
    <script type="text/javascript" src="js/misc.js"></script>
    <script type="text/javascript" src="js/shapes.js"></script>

</div>
</body>
</html>